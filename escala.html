<!DOCTYPE HTML>
<html>

<head>
  <title>CSI477 - WEB</title>
  <meta name="description" content="website description" />
  <meta name="keywords" content="website keywords, website keywords" />
  <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
  <link rel="stylesheet" type="text/css" href="css/style1.css" />
  <link rel="stylesheet" href="css/bootstrap.css">
  <script src="js/jquery-1.12.3.js"></script>
  <script src="js/funcoes.js"></script>
  <script src="js/jquery.validate.js"></script>
</head>

<body>
  <div id="main">
    <header>
      <div id="logo">
        <div id="logo_text">
          <h1><a href="didatica.html">Projeto<span class="logo_colour"></span></a></h1>
          <h2>Escala Richter</h2>
        </div>
      </div>
    </header>

    <div id="site_content">
      <div class="content">
        <h1>Também conhecida como escala de magnitude local </h1>
        <p>É uma escala logarítmica arbitrária, de base 10, utilizada para quantificar a magnitude de um sismo.</p>
      </div>
    </div>

    <form  method="post" name="acesso" id="acesso" role="form" class="left-aligned">
      <div id="site_content" >
        <div class="content">
          <div class="form_settings">
              <label>Amplitude:</label>
          </div>
          <div class="form_settings">
                <input type="text" name="amplitude" id="amplitude" />
          </div>
          <div class="form_settings">
              <label>Intervalo:</label>
          </div>
          <div class="form_settings">
              <input type="text" name="intervalo" id="intervalo"/>
          </div>
          <div class="form_settings" >
              <label>Magnitude:</label>
          </div>
          <div class="form_settings" >
                <input type="text" id="mag" readonly="readonly" />
          </div>
          <div class="form_settings">
              <p> </p>
              <input type="button" id="enviar" value="Verificar abalo">
          </div>
        </div>
      </div>
    </form>

<script type="text/javascript">
function id(el) {
  return document.getElementById( el );
}

function mag( un, intervalo ) {
  //M = log10 A + 3 . log10 (8.t) – 2,92
  return Math.log10(un)+3*Math.log10(8*intervalo)-2.92;
}

window.onload = function() {
  id('amplitude').addEventListener('keyup', function() {
    var result = mag( this.value , id('intervalo').value );
  });

  id('intervalo').addEventListener('keyup', function(){
    var result = mag( id('amplitude').value , this.value );
    id('mag').value = result;
  });
}

$(function($){
    $('#enviar').click(function(){
        var magnitude = $('#mag').val();
        //alert(magnitude);
        if (magnitude >= 8.0){
            alert("Enorme terremoto");
        }
        else if (magnitude >= 7.0){
            alert("Grande terremoto");
        }
        else if (magnitude >= 6.0){
            alert("Destrutivo em areas em torno de até 100km do epicentro");
        }
        else if (magnitude >= 5.5){
            alert("Pequenos danos");
        }
        else if (magnitude >= 3.5){
            alert("Raramente causa danos");
        }
        else if (magnitude < 3.5 && magnitude > 0){
            alert("Leve terremoto");
        }
        else{
            alert("Valor inválido ou não informado!");
        }
    });
});
</script>
</html>
